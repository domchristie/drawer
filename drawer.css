/*
  Drawer v0.3.0
  ==============
  Copyright (c) Dom Christie 2013 */

@charset "UTF-8";

body {
  margin: 0;
  padding: 0;
}

/*
  drawer
  ------- */

.drawer {
  position: absolute;
  top: 0;
  left: 0;
  width: 250px;
  z-index: auto;

  /* The following 3 lines achieves independently scolling columns.
    Comment out if you require support for iOS Safari <=4.x, Android <=2.x and
    the like (without UA sniffing) */
  position: fixed;
  bottom: 0;
  overflow-y: auto;
}

/* 
  drawer-butt
  ------------
  Wraps any content that “butts up” to the drawer
  (for want of a better class name!) */

.drawer-butt {
  display: block;

  /* Ensures `.drawer-butt` overlaps `.drawer` */
  position: relative;
  z-index: 2;

  /* **Important**: Create new block formatting context to prevent
    overflow/sizing issues */
  overflow: hidden;
  
  width: auto;
  margin-left: 250px;

  /* Override this with anything, (ideally not transparent/none!) */
  background: #e6e6e6;
}

.drawer-open .drawer-butt {
  margin-left: 250px;
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  transform: translate(0, 0);
}

/* 
  Transitions
  ------------ */

.drawer,
.drawer-butt {
  -webkit-transition: opacity .2s, margin-left .2s, -webkit-transform .2s;
  transition:         opacity .2s, margin-left .2s,         transform .2s;

  /* **Important**: prevent transition flickering
    (see http://stackoverflow.com/a/3921870/783009) */
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  backface-visibility: hidden;
}

/*
  Media Queries
  -------------- */

@media only screen and (max-width: 870px) {
  /* **Unfortunate, but necessary!**: prevents content from being scrolled
    over the drawer. Ideally, this would only be placed on `.drawer-open`, but
    doing so prevents CSS transitions from working on Firefox (see
    https://bugzilla.mozilla.org/show_bug.cgi?id=625289) */
  html, body {
    overflow-x: hidden;
  }

  /* Make .drawer transparent to ensure its “hidden”, even when .drawer-butt
    content is shorter  */
  .drawer {
    opacity: 0;
  }
  .drawer-open .drawer {
    opacity: 1;
  }

  /* Uncomment below to add momentum scrolling when drawer is open.
    
    This has the following side-effects:

    1. Removes tap-status-bar-to-return-to-top behaviour (on some devices),
       however, given that the drawer is open, and content is shifted, this may
       be deemed acceptable
    2. Can cause a janky flicker when transitioning */

  /*.drawer-open .drawer {
    -webkit-overflow-scrolling: touch;
  }*/

  .drawer-butt {
    margin-left: 0;
    width: 100%;
  }
  
  .drawer-open .drawer-butt {
    margin-left: 0;
    -webkit-transform: translate(250px, 0);
    -ms-transform: translate(250px, 0);
    transform: translate(250px, 0);
  }
}
